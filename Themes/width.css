/*
    CHAT ELEMENTS
*/

/* Main chat section width */
@container (min-width: 768px) {
  article .\\@\\[64rem\\]\\:\\[--thread-content-max-width\\:48rem\\] {
    max-width: 90% !important;
  }
}

/* User input width */
@container (min-width: 768px) {
  #thread-bottom-container .\\@\\[64rem\\]\\:\\[--thread-content-max-width\\:48rem\\] {
    max-width: 70% !important;
  }
}

/* Project screen width */
@container (min-width: 850px) {
  .px-\\(--thread-content-margin\\).h-full
    > .mx-auto.flex.max-w-\\(--thread-content-max-width\\).flex-1.text-base.flex-col {
    max-width: 70vw !important;
  }
}

/* Text area height */
@media (min-width: 768px) {
  .max-h-\\[25dvh\\].overflow-auto {
    max-height: 50dvh;
  }
}

/* Code blocks font */
code,
pre {
  font-family: Consolas, ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas,
    Liberation Mono, monospace !important;
}

/* Code blocks background color */
/* DARK */
html.dark pre > div.rounded-md {
  background-color: #181818;
}

/* Break lines in code blocks */
code[class][class][class],
code[class][class][class].whitespace-pre\\!,
code.whitespace-pre\\!:not([data-highlighted="true"]) > span:only-child {
  display: inline-block;
  white-space: pre-wrap !important;
  overflow-wrap: anywhere !important;
}

/* Inline code color */
html.dark [data-message-author-role="user"] div > code,
html.dark .prose code:not(:where(pre code)) {
  color: #eab38a;
  background: #272727;
  border: 1px solid rgba(94, 93, 89, 0.25);
}
html.dark .prose a > code:not(:where(pre code)) {
  color: inherit;
}

/* Code blocks inside user messages */
/* inline code */
[data-message-author-role="user"] div > code {
  font-size: 14px;
  background: #00000030 !important;
  border-radius: 0.25rem;
  padding: 1px 5px;
  border: 1px solid #00000026 !important;
}

/* multiline code blocks */
[data-message-author-role="user"] pre {
  background: #00000030;
  padding: 2px 7px;
  border-radius: 11px;
}

/* multiline code blocks FONT SIZE */
[data-message-author-role="user"] pre > code {
  font-size: 14px;
}

/* Make our messages more visible. */
/* DARK */
html.dark
  [data-message-author-role="user"].text-message
  > .w-full
  > .bg-token-message-surface {
  background: linear-gradient(135deg, #34437a, #2b2f54);
}

/* LIGHT */
html.light
  [data-message-author-role="user"].text-message
  > .w-full
  > .bg-token-message-surface {
  background: #c1d6f6;
}

/* Make bot message start more visible by increasing visibility of its avatar. */
/* DARK */
html.dark .gizmo-bot-avatar > div {
  background: linear-gradient(45deg, #3f51b5, #00bcd4);
}
html.dark .gizmo-bot-avatar {
  outline: none;
}

/* LIGHT */
html.light .gizmo-bot-avatar > div {
  background: #252525;
  color: #ffffff;
}

/* Bot thinking headings */
html.dark article p strong.font-semibold.text-token-text-primary {
  color: #66ceff;
}
html.light article p strong.font-semibold.text-token-text-primary {
  color: #0047c2;
}

/* Response variants visibility */
article
  div.has-data-\\[state\\=open\\]\\:opacity-100:has(
    button[aria-label="Previous response"]
  ) {
  opacity: 1 !important;
}
button[aria-label="Previous response"] + div.tabular-nums {
  background: #f39c12;
  border-radius: 6px;
  color: #181818;
  padding: 0 5px;
}

/* Table margins */
article [class^="_tableContainer"] {
  width: 100%;
  max-width: 100%;
  margin: 0;
  scrollbar-width: auto;
  pointer-events: auto;
}
article [class^="_tableContainer"] > [class^="_tableWrapper"] {
  margin: 0;
}

/*
    TOP BAR
*/

/* Make top bar transparent as it consumes vertical space for no reason */
#page-header {
  background: transparent !important;
  position: absolute;
  width: 100%;
  box-shadow: none;
}
#page-header + div .\\@thread-xl\\/thread\\:pt-header-height {
  padding-top: 32px;
}

/* Background for top bar element that shows the current GPT version */
/* DARK */
html.dark #page-header button:not(:hover) {
  background-color: #2121218a;
  border-radius: 8px;
  backdrop-filter: blur(2px);
}
/* LIGHT */
html.light #page-header button:not(:hover) {
  background-color: #ffffffb0;
  border-radius: 8px;
  backdrop-filter: blur(2px);
}

/* Project chat name visibility */
/* DARK */
html.dark
  main
  .sticky.top-0
  .flex.items-center.gap-0.overflow-hidden
  button
  > div.truncate {
  color: #e9cc9e;
}
/* LIGHT */
html.light
  main
  .sticky.top-0
  .flex.items-center.gap-0.overflow-hidden
  button
  > div.truncate {
  color: #000;
}

/* GPT version visibility */
/* DARK */
html.dark
  .sticky.top-0
  [type="button"]
  > div
  > span.text-token-text-tertiary {
  color: #f39c12;
}
/* LIGHT */
html.light
  .sticky.top-0
  [type="button"]
  > div
  > span.text-token-text-tertiary {
  color: #000;
}

/*
    SIDEBAR
*/

/* Sidebar width */
@media not all and (max-width: 768px) {
  #stage-slideover-sidebar[style*="sidebar-width"],
  #stage-slideover-sidebar[style*="sidebar-width"]
    .w-\\[var\\(--sidebar-width\\)\\] {
    width: 330px !important;
  }
}

/* History periods headings (like "Today", "Yesterday") visibility */
/* DARK */
html.dark #stage-slideover-sidebar[style*="sidebar-width"] h3 {
  color: #f39c12;
}

/* LIGHT */
html.light #stage-slideover-sidebar[style*="sidebar-width"] h3 {
  font-weight: 700;
}

/* Multiline history titles */
#stage-slideover-sidebar[style*="sidebar-width"]
  #history
  a[draggable="true"]
  .truncate {
  overflow: visible;
  white-space: normal;
}
#stage-slideover-sidebar[style*="sidebar-width"]
  #history
  a[draggable="true"]
  > div.text-token-text-tertiary.flex.items-center.self-stretch {
  position: absolute;
  right: 5px;
  top: 50%;
  translate: 0 -50%;
}

/*
    MISC
*/

/* Sane modal height */
div[role="dialog"] .h-\\[24rem\\] {
  height: 75vh;
}

/* Project chats subtitles */
html.dark
  li.hover\\:bg-token-bg-tertiary
  a
  .text-token-text-secondary.truncate.text-sm {
  color: #999999;
}

/* Project chats list width */
.text-base.overflow-y-auto.my-auto.mx-auto:has(
  li.hover\\:bg-token-bg-tertiary
) {
  width: 100%;
}

/* Project chats paddings */
li.hover\\:bg-token-bg-tertiary
  .group.relative.flex.flex-col.gap-1.p-4 {
  padding-block: 8px;
}

/* In-task text area size */
._prosemirror-parent_kfgfu_2 {
  max-height: 50vh !important;
}
